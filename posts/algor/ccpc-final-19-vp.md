## CCPC Final 2019 VP

省流：手速很快的三小时之内干完四个题然后下班了。

开始的时候觉得 F 非常可做然后发现三小时了没有一个人过有点搞笑。

结果发现最开始的结论就搞错了，还在那里想了半天网络流建边优化。

### A - Kick Start

yhn 做的，签到题，懒得管了。

### I - Mr.Panda and SAD

神秘构造，听说当年现场区分度非常奇异

我也不懂怎么想到的。

### K - Russian Dolls on the Christmas Tree

有点板子。

考虑对于每个节点从子树里面合并答案

无非就是两种情况，一种是节点合并了某两个子树的答案。

另一种就是子树之间相互合并。

每次合并相当于找到两个连续段拼起来，维护只需要看一个点的左右两边是否都存在，这个东西可以树上启发式合并来优化。

于是就能过了，我不太会 DSU on Tree 所以是 lxy 写的。

### L - Spiral Matrix

奇异找规律题。

首先注意到答案可能很小。

因为这个移动方式让可能的合法路径变得非常少。

比如这样子：

```
A B C
D E F
G H I
```

如果我按照 G -> D -> A 的顺序走，那么这个 E 的可达性就非常有限。

要不然是 G -> D -> A -> B -> E，要不然是 G -> D -> A -> B -> C -> F -> I -> E。

所以这个行走路径一定是一层一层像个瑞士卷，更通俗一点它只能有这两种形状：

![img](../../medias/ccpcf19-1.png)

赛时通过打表盯真发现如果 $n + m$ 相同答案相同，所以 $ans = 2(n + m) - 4$，交上去一发过了。

赛后想了想，其实就是这样的路径只能是对角线或者是最中间的一个小连通块可以做到，不然没办法全部卷干净，稍微推一下就是 $2(n + m) - 4$。

因为四个顶点的位置答案只有一种。
